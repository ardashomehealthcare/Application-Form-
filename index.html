<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Job Application - Ardas Home Health Care</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-image: linear-gradient(rgba(255,255,255,0.9), rgba(255,255,255,0.9)), 
                              url('https://drive.google.com/thumbnail?id=1yYyeHvHNdUzAJpe_yH8mu_9_fgRZEbYa&sz=w1000');
            background-attachment: fixed;
            background-position: center;
            background-repeat: no-repeat;
            background-size: contain;
        }
        .container {
            max-width: 600px;
            margin: auto;
            background: rgba(255, 255, 255, 0.8);
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        header {
            text-align: center;
            margin-bottom: 30px;
        }
        header img {
            width: 100px;
            border-radius: 50%;
        }
        h1 { color: #2c3e50; font-size: 24px; }
        section { margin-bottom: 20px; }
        label { display: block; margin-top: 10px; font-weight: bold; }
        input[type="text"], input[type="tel"], textarea, input[type="file"] {
            width: 100%;
            padding: 10px;
            margin-top: 5px;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-sizing: border-box;
        }
        .checkbox-group { margin-top: 10px; }
        .checkbox-group label { display: inline; font-weight: normal; margin-right: 15px; }
        button {
            background-color: #27ae60;
            color: white;
            padding: 15px;
            border: none;
            width: 100%;
            border-radius: 5px;
            cursor: pointer;
            font-size: 18px;
            margin-top: 20px;
        }
        button:hover { background-color: #219150; }
    </style>
</head>
<body>

<div class="container">
    <header>
        <img src="https://drive.google.com/thumbnail?id=1yYyeHvHNdUzAJpe_yH8mu_9_fgRZEbYa&sz=w200" alt="Ardas Logo">
        <h1>ARDAS HOME HEALTH CARE</h1>
        <p>Job Application Form</p>
    </header>

    <form id="applicationForm" action="https://script.google.com/macros/s/AKfycbyE7OxRJIlcIve_ep3bqmmP2tY0ArNP147RPXUD2KWAoo7nMPY1ObpDJGvOIyb4Wk1h/exec" method="POST">
        
        <section>
            <h3>Personal Information</h3>
            <label>Full Name</label>
            <input type="text" name="fullname" id="fullname" required>
            
            <label>Calling Number</label>
            <input type="tel" name="phone" id="phone" required>
            
            <label>WhatsApp Number</label>
            <input type="tel" name="whatsapp" id="whatsapp" required>
            
            <label>Full Address</label>
            <textarea name="address" id="address" rows="3" required></textarea>
        </section>

        <section>
            <h3>Documents Upload</h3>
            <label>Qualification Certificate (PDF/Image)</label>
            <input type="file" name="qualification" id="qual" required>
            
            <label>Aadhaar Card (Front Image)</label>
            <input type="file" name="aadhaar_front" id="af" required>
            
            <label>Aadhaar Card (Rear Image)</label>
            <input type="file" name="aadhaar_rear" id="ar" required>
        </section>

        <section>
            <h3>Duty Preference</h3>
            <div class="checkbox-group">
                <input type="checkbox" name="duty_day" id="day"> <label for="day">Day</label>
                <input type="checkbox" name="duty_night" id="night"> <label for="night">Night</label>
                <input type="checkbox" name="duty_24hrs" id="full"> <label for="full">24 Hrs</label>
            </div>
        </section>

        <button type="submit" id="submitBtn">Submit Application</button>
    </form>
</div>

<script>
    const form = document.getElementById('applicationForm');
    const SCRIPT_URL = form.action;

    form.addEventListener('submit', async (e) => {
        e.preventDefault();
        const btn = document.getElementById('submitBtn');
        btn.innerText = "Uploading... Please wait";
        btn.disabled = true;

        const getBase64 = (file) => new Promise((res) => {
            const reader = new FileReader();
            reader.readAsDataURL(file);
            reader.onload = () => res({ contents: reader.result.split(',')[1], mimeType: file.type });
        });

        try {
            const payload = {
                fullname: document.getElementById('fullname').value,
                phone: document.getElementById('phone').value,
                whatsapp: document.getElementById('whatsapp').value,
                address: document.getElementById('address').value,
                duty_day: document.getElementById('day').checked ? "Yes" : "No",
                duty_night: document.getElementById('night').checked ? "Yes" : "No",
                duty_24hrs: document.getElementById('full').checked ? "Yes" : "No",
                qualification: await getBase64(document.getElementById('qual').files[0]),
                aadhaar_front: await getBase64(document.getElementById('af').files[0]),
                aadhaar_rear: await getBase64(document.getElementById('ar').files[0]),
                folderId: "1Dbtie1BIgCgYEP-oujQt8YzFz2I-a4ok"
            };

            await fetch(SCRIPT_URL, {
                method: 'POST',
                body: JSON.stringify(payload)
            });

            alert("Application Submitted Successfully!");
            form.reset();
        } catch (error) {
            alert("Error submitting form. Please try again.");
        } finally {
            btn.innerText = "Submit Application";
            btn.disabled = false;
        }
    });
</script>

</body>
</html>
