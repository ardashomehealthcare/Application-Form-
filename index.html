<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Job Application - Ardas Home Health Care</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-image: linear-gradient(rgba(255,255,255,0.9), rgba(255,255,255,0.9)), 
                              url('https://drive.google.com/thumbnail?id=1yYyeHvHNdUzAJpe_yH8mu_9_fgRZEbYa&sz=w1000');
            background-attachment: fixed;
            background-position: center;
            background-repeat: no-repeat;
            background-size: contain;
        }
        .container {
            max-width: 600px;
            margin: auto;
            background: rgba(255, 255, 255, 0.8);
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        header {
            text-align: center;
            margin-bottom: 30px;
        }
        header img {
            width: 100px;
            border-radius: 50%;
        }
        h1 { color: #2c3e50; font-size: 24px; }
        section { margin-bottom: 20px; }
        label { display: block; margin-top: 10px; font-weight: bold; }
        input[type="text"], input[type="tel"], textarea, input[type="file"] {
            width: 100%;
            padding: 10px;
            margin-top: 5px;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-sizing: border-box;
        }
        .checkbox-group { margin-top: 10px; }
        .checkbox-group label { display: inline; font-weight: normal; margin-right: 15px; }
        button {
            background-color: #27ae60;
            color: white;
            padding: 15px;
            border: none;
            width: 100%;
            border-radius: 5px;
            cursor: pointer;
            font-size: 18px;
            margin-top: 20px;
        }
        button:hover { background-color: #219150; }
    </style>
</head>
<body>

<div class="container">
    <header>
        <img src="https://drive.google.com/thumbnail?id=1yYyeHvHNdUzAJpe_yH8mu_9_fgRZEbYa&sz=w200" alt="Ardas Logo">
        <h1>ARDAS HOME HEALTH CARE</h1>
        <p>Job Application Form</p>
    </header>

    <form id="applicationForm" action="https://script.google.com/macros/s/AKfycbyE7OxRJIlcIve_ep3bqmmP2tY0ArNP147RPXUD2KWAoo7nMPY1ObpDJGvOIyb4Wk1h/exec" method="POST">
        
        <section>
            <h3>Personal Information</h3>
            <label>Full Name</label>
            <input type="text" name="fullname" id="fullname" required>
            
            <label>Calling Number</label>
            <input type="tel" name="phone" id="phone" required>
            
            <label>WhatsApp Number</label>
            <input type="tel" name="whatsapp" id="whatsapp" required>
            
            <label>Full Address</label>
            <textarea name="address" id="address" rows="3" required></textarea>
        </section>

        <section>
            <h3>Documents Upload</h3>
            <label>Qualification Certificate (PDF/Image)</label>
            <input type="file" name="qualification" id="qual" required>
            
            <label>Aadhaar Card (Front Image)</label>
            <input type="file" name="aadhaar_front" id="af" required>
            
            <label>Aadhaar Card (Rear Image)</label>
            <input type="file" name="aadhaar_rear" id="ar" required>
        </section>

        <section>
            <h3>Duty Preference</h3>
            <div class="checkbox-group">
                <input type="checkbox" name="duty_day" id="day"> <label for="day">Day</label>
                <input type="checkbox" name="duty_night" id="night"> <label for="night">Night</label>
                <input type="checkbox" name="duty_24hrs" id="full"> <label for="full">24 Hrs</label>
            </div>
        </section>

        <button type="submit" id="submitBtn">Submit Application</button>
    </form>
</div>

<script>
    const form = document.getElementById('applicationForm');
    const SCRIPT_URL = form.action;

    form.addEventListener('submit', async (e) => {
        e.preventDefault();
        const btn = document.getElementById('submitBtn');
        btn.innerText = "Uploading... Please wait";
        btn.disabled = true;

        const getBase64 = (file) => new Promise((res) => {
            const reader = new FileReader();
            reader.readAsDataURL(file);
            reader.onload = () => res({ contents: reader.result.split(',')[1], mimeType: file.type });
        });

        try {
            const payload = {
                fullname: document.getElementById('fullname').value,
                phone: document.getElementById('phone').value,
                whatsapp: document.getElementById('whatsapp').value,
                address: document.getElementById('address').value,
                duty_day: document.getElementById('day').checked ? "Yes" : "No",
                duty_night: document.getElementById('night').checked ? "Yes" : "No",
                duty_24hrs: document.getElementById('full').checked ? "Yes" : "No",
                qualification: await getBase64(document.getElementById('qual').files[0]),
                aadhaar_front: await getBase64(document.getElementById('af').files[0]),
                aadhaar_rear: await getBase64(document.getElementById('ar').files[0]),
                folderId: "1Dbtie1BIgCgYEP-oujQt8YzFz2I-a4ok"
            };

            await fetch(SCRIPT_URL, {
                method: 'POST',
                body: JSON.stringify(payload)
            });

            alert("Application Submitted Successfully!");
            form.reset();
        } catch (error) {
            alert("Error submitting form. Please try again.");
        } finally {
            btn.innerText = "Submit Application";
            btn.disabled = false;
        }
    });
</script>

</body>
</html>
        <input type="file" id="af" accept="image/*" required>
        
        <label>Aadhaar Card (Rear Side)</label>
        <input type="file" id="ar" accept="image/*" required>

        <h3>Duty Preference</h3>
        <div class="duty-box">
            <input type="checkbox" id="d_day"> <label for="d_day">Day Shift</label>
            <input type="checkbox" id="d_night"> <label for="d_night">Night Shift</label>
            <input type="checkbox" id="d_24"> <label for="d_24">24 Hours</label>
        </div>

        <button type="submit" id="submitBtn">Submit Application</button>
        <div id="status" class="status-msg"></div>
    </form>
</div>

<script>
    // Your Deployed Google Apps Script URL
    const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbyE7OxRJIlcIve_ep3bqmmP2tY0ArNP147RPXUD2KWAoo7nMPY1ObpDJGvOIyb4Wk1h/exec";

    document.getElementById('jobForm').addEventListener('submit', async (e) => {
        e.preventDefault();
        const btn = document.getElementById('submitBtn');
        const status = document.getElementById('status');
        
        btn.innerText = "Uploading Documents... Please wait";
        btn.disabled = true;
        status.style.display = "block";
        status.style.color = "#2980b9";
        status.innerText = "Processing files and saving to Google Drive...";

        const getBase64 = (file) => new Promise((res) => {
            const reader = new FileReader();
            reader.readAsDataURL(file);
            reader.onload = () => res({ 
                contents: reader.result.split(',')[1], 
                mimeType: file.type 
            });
        });

        try {
            const payload = {
                fullname: document.getElementById('fullname').value,
                phone: document.getElementById('phone').value,
                whatsapp: document.getElementById('whatsapp').value,
                address: document.getElementById('address').value,
                duty_day: document.getElementById('d_day').checked ? "Yes" : "No",
                duty_night: document.getElementById('d_night').checked ? "Yes" : "No",
                duty_24hrs: document.getElementById('d_24').checked ? "Yes" : "No",
                qualification: await getBase64(document.getElementById('qual').files[0]),
                aadhaar_front: await getBase64(document.getElementById('af').files[0]),
                aadhaar_rear: await getBase64(document.getElementById('ar').files[0])
            };

            const response = await fetch(SCRIPT_URL, {
                method: 'POST',
                mode: 'no-cors', // Use no-cors if you face redirect issues
                body: JSON.stringify(payload)
            });

            status.style.color = "#27ae60";
            status.innerText = "Application Submitted Successfully!";
            alert("Success! Your application has been sent to Ardas Home Health Care.");
            document.getElementById('jobForm').reset();
            
        } catch (error) {
            console.error(error);
            status.style.color = "#c0392b";
            status.innerText = "Error: Submission failed. Please try again.";
            alert("Something went wrong. Please check your internet or script settings.");
        } finally {
            btn.innerText = "Submit Application";
            btn.disabled = false;
        }
    });
</script>
<p style="bottom: 10px; right: 10px; position: absolute;"><a href="https://wordtohtml.net/?utm_source=wth_free_doc_conversion_link&utm_medium=external" target="_blank" style="font-size:11px; color: #d0d0d0">Converted to HTML with WordToHTML.net</a><span style="font-size:11px; color: #d0d0d0"> | </span><a href="https://documentconverter.pro/?utm_source=wth_free_doc_conversion_link&utm_medium=external" target="_blank" style="font-size:11px; color: #d0d0d0">Document Converter for Windows</a></p>
<script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon='{"version":"2024.11.0","token":"4581d6a58cf94e929fad52deda295622","r":1,"server_timing":{"name":{"cfCacheStatus":true,"cfEdge":true,"cfExtPri":true,"cfL4":true,"cfOrigin":true,"cfSpeedBrain":true},"location_startswith":null}}' crossorigin="anonymous"></script>
</body>
</html>
